<!DOCTYPE html>
<html lang="en" class="scroll-smooth"> <!-- Added scroll-smooth for nice scrolling -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shafeeq & Linda | Wedding Reception</title>
    <!-- Tailwind CSS CDN --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Cormorant Garamond for headings, Inter for body --><link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Custom Tailwind Configuration --><script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        // 'serif' will be our elegant heading font
                        'serif': ['"Cormorant Garamond"', 'serif'],
                        // 'sans' is the default, but we explicitly define Inter
                        'sans': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // New palette inspired by the gold, white & jasmine theme
                        'cream': '#FDFBF5',
                        'text-dark': '#2C3E50',
                        'text-mid': '#595959',
                        'gold-accent': '#D4AF37',
                        'gold-deep': '#B8860B',
                        'jasmine-green': '#4A6341',
                    }
                }
            }
        }
    </script>
    <style>
        /* Apply the default body font */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF5; /* Use the cream color for the main page background */
        }
        /* Custom style for the checkbox/radio to match the theme */
        input[type="checkbox"], input[type="radio"] {
            accent-color: #B8860B; /* gold-deep */
        }
    </style>
</head>
<body class="bg-cream text-text-mid">

    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 bg-cream/95 backdrop-blur-md shadow-md z-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Left side: Home link (Names) -->
                <div class="flex-shrink-0 flex items-center">
                     <a href="#home" class="font-serif text-text-dark hover:text-gold-deep transition-colors duration-200 text-xl font-bold">Shafeeq & Linda</a>
                </div>
                
                <!-- Right side: Navigation Links (Desktop) -->
                <div class="hidden sm:flex sm:items-center sm:ml-6">
                    <div class="flex space-x-4 md:space-x-6">
                        <a href="#welcome" class="font-serif text-text-dark hover:text-gold-deep transition-colors duration-200 text-lg px-3 py-2 rounded-md">Welcome</a>
                        <a href="#location" class="font-serif text-text-dark hover:text-gold-deep transition-colors duration-200 text-lg px-3 py-2 rounded-md">When & Where</a>
                        <a href="#rsvp-section" class="font-serif text-gold-deep hover:text-white hover:bg-gold-deep border border-gold-deep transition-all duration-200 text-lg px-4 py-1 rounded-full">RSVP</a>
                    </div>
                </div>

                <!-- Mobile menu -->
                <div class="sm:hidden flex items-center space-x-2">
                    <a href="#welcome" class="font-serif text-text-dark hover:text-gold-deep transition-colors duration-200 text-sm px-2 py-1">Welcome</a>
                    <a href="#location" class="font-serif text-text-dark hover:text-gold-deep transition-colors duration-200 text-sm px-2 py-1">Where</a>
                    <a href="#rsvp-section" class="font-serif text-gold-deep hover:text-white hover:bg-gold-deep border border-gold-deep transition-all duration-200 text-sm px-3 py-1 rounded-full">RSVP</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- New Hero Section -->
    <section id="home" class="flex flex-col md:flex-row h-screen pt-16"> <!-- pt-16 to offset nav -->
        <!-- Left Column: Image -->
        <div class="w-full md:w-1/2 h-1/2 md:h-full bg-cover bg-center" 
             style="background-image: url('images/table_setup.jpeg')">
            <!-- This div is intentionally left empty; it's just for the background image -->
        </div>

        <!-- Right Column: Content -->
        <div class="w-full md:w-1/2 h-1/2 md:h-full bg-cream flex flex-col justify-center items-center text-center p-8">
            <div class="max-w-md">
                <p class="text-text-mid text-lg tracking-widest mb-4">
                    JOIN US IN THE CELEBRATION OF
                </p>
                <h1 class="font-serif text-6xl md:text-7xl text-text-dark leading-tight">Shafeeq</h1>
                <h1 class="font-serif text-6xl md:text-7xl text-text-dark leading-tight">& Linda's</h1>
                <p class="font-serif text-text-dark text-3xl mt-6">
                    Wedding Reception
                </p>
                <p class="text-lg text-text-mid mt-2">
                    Saturday, December 13, 2025
                </p>
                <a href="#rsvp-section" 
                   class="font-serif text-gold-deep hover:text-white hover:bg-gold-deep border border-gold-deep bg-white transition-all duration-200 text-lg px-10 py-2 rounded-md mt-12 inline-block">
                   RSVP
                </a>
            </div>
        </div>
    </section>

    <!-- Main Content Card -->
    <!-- This card now holds all the other content sections -->
    <!-- The -mt-20 pulls it up over the hero section, creating the overlap effect -->
    <main class="relative z-10 max-w-4xl mx-auto -mt-20 mb-12 p-8 md:p-16 bg-white rounded-lg shadow-2xl">

        <!-- New Welcome Section -->
        <section id="welcome" class="mb-16 scroll-mt-20">
            <h2 class="font-serif text-5xl text-text-dark text-center mb-12">Welcome</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8">
                <div class="w-full">
                     <img src="images/cityhall.jpg" 
                         alt="Shafeeq and Linda at City Hall"
                         class="rounded-lg shadow-xl w-full h-full object-cover"
                         onerror="this.onerror=null; this.src='https://placehold.co/600x400/eeeeee/333333?text=Image+Unavailable';">
                </div>
                <div class="w-full">
                     <img src="images/nikah_photoshoot.jpg" 
                         alt="Shafeeq and Linda Nikah photoshoot"
                         class="rounded-lg shadow-xl w-full h-full object-cover"
                         onerror="this.onerror=null; this.src='https://placehold.co/600x400/eeeeee/333333?text=Image+Unavailable';">
                </div>
            </div>
            <div class="text-lg leading-relaxed text-text-mid text-center max-w-xl mx-auto">
                <p class="mb-4">We are so excited to celebrate our special day with you.</p>
                <p>Please use this website to find all the details about our wedding reception, and to let us know if you'll be joining us.</p>
            </div>
            <div class="text-center mt-10">
                <a href="#rsvp-section" 
                   class="inline-block py-3 px-8 bg-gold-accent text-white font-bold text-lg rounded-lg shadow-lg hover:bg-gold-deep transition-all duration-300 transform hover:-translate-y-0.5">
                    RSVP Now
                </a>
            </div>
        </section>

        <!-- Divider -->
        <hr class="border-t border-gold-accent/50 w-1/3 mx-auto my-16">
        
        <!-- When & Where Section --><!-- Added id="location" and scroll-mt-20 for nav offset -->
        <section id="location" class="mb-16 scroll-mt-20"> 
            <h2 class="font-serif text-5xl text-text-dark text-center mb-12">Wedding Reception</h2>
            <div class="text-center">
                <!-- Single event details block -->
                <div>
                    <h3 class="font-serif text-3xl text-text-dark mb-4">Saturday, December 13, 2025</h3>
                    <p class="text-lg text-text-mid mb-1">At 12:00 PM</p>
                    <p class="text-lg text-text-mid font-bold mt-4">The White Oak Castle Convention Center</p>
                    <p class="text-lg text-text-mid">Moodal, Athavanad,</p>
                    <p class="text-lg text-text-mid">Kerala 679571, India</p>
                </div>
                <!-- "Get Directions" Button Added -->
                <div class="mt-8">
                    <a href="https://maps.app.goo.gl/QpUitwKDbxL534M46"
                       target="_blank"
                       rel="noopener noreferrer"
                       class="inline-block py-3 px-8 bg-gold-accent text-white font-bold text-lg rounded-lg shadow-lg hover:bg-gold-deep transition-all duration-300 transform hover:-translate-y-0.5">
                        Get Directions
                    </a>
                </div>
            </div>
            <!-- Embedded Google Map -->
            <div class="mt-12">
                <!-- Map SRC updated as requested - Corrected width="100%" -->
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.142670939725!2d76.0459109!3d10.876751399999998!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba7b7002bc480c9%3A0xc5d3cce879338fc8!2sThe%20White%20Oak%20Castle%20Convention%20Center!5e0!3m2!1sen!2sus!4v1762126720696!5m2!1sen!2sus"
                    width="100%" 
                    height="400" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade"
                    class="rounded-lg shadow-xl">
                </iframe>
            </div>
        </section>

        <!-- Divider -->
        <hr class="border-t border-gold-accent/50 w-1/3 mx-auto my-16">

        <!-- RSVP Section --><!-- Added scroll-mt-20 for nav offset -->
        <section id="rsvp-section" class="mb-16 scroll-mt-20"> 
            <h2 class="font-serif text-5xl text-text-dark text-center mb-8">RSVP</h2>
            <p class="text-lg text-text-mid text-center mb-10">
                Kindly let us know if you can join our celebration by November 28th, 2025.
            </p>
            <form id="rsvp-form" class="max-w-lg mx-auto grid grid-cols-1 gap-6">
                <div>
                    <label for="name" class="block text-lg font-medium text-text-mid">Full Name</label>
                    <input type="text" id="name" name="name" required
                           class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gold-deep focus:ring focus:ring-gold-deep focus:ring-opacity-50 p-3">
                </div>
                
                <fieldset>
                    <legend class="text-lg font-medium text-text-mid">Will you be attending?</legend>
                    <div class="mt-2 space-y-2">
                        <div class="flex items-center">
                            <input id="attending-yes" name="attending" type="radio" value="Yes" required
                                   class="h-4 w-4 text-gold-deep border-gray-300 focus:ring-gold-deep">
                            <label for="attending-yes" class="ml-3 block text-lg text-text-mid">Joyfully Attending</label>
                        </div>
                        <div class="flex items-center">
                            <input id="attending-no" name="attending" type="radio" value="No"
                                   class="h-4 w-4 text-gold-deep border-gray-300 focus:ring-gold-deep">
                            <label for="attending-no" class="ml-3 block text-lg text-text-mid">Regretfully Decline</label>
                        </div>
                    </div>
                </fieldset>

                <div>
                    <label for="guests" class="block text-lg font-medium text-text-mid">Number of Guests (including you)</label>
                    <select id="guests" name="guests"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gold-deep focus:ring focus:ring-gold-deep focus:ring-opacity-50 p-3">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5+</option>
                    </select>
                </div>

                <!-- Accommodation fieldset modified -->
                <fieldset>
                    <legend class="text-lg font-medium text-text-mid">Do you need help with accommodation?</legend>
                    <div class="mt-2 space-y-2">
                        <div class="flex items-center">
                            <!-- Name attribute is "accommodation" -->
                            <input id="accommodation-yes" name="accommodation" type="radio" value="Yes"
                                   class="h-4 w-4 text-gold-deep border-gray-300 focus:ring-gold-deep">
                            <label for="accommodation-yes" class="ml-3 block text-lg text-text-mid">Yes, please!</label>
                        </div>

                        <!-- Hidden date options -->
                        <div id="accommodation-dates" class="ml-7 pl-4 border-l-2 border-gold-accent/50 pt-2 pb-2 mt-1 space-y-2 hidden">
                            <label class="block text-md font-medium text-text-mid">Please select which nights:</label>
                            <div class="flex items-center">
                                <input type="checkbox" id="night-before" name="night_before" value="Yes" class="h-5 w-5 rounded">
                                <label for="night-before" class="ml-3 text-lg text-text-mid">The day before (Dec 12th)</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="night-of" name="night_of" value="Yes" class="h-5 w-5 rounded">
                                <label for="night-of" class="ml-3 text-lg text-text-mid">The day of the event (Dec 13th)</label>
                            </div>
                        </div>
                        <!-- End of hidden date options -->

                        <div class="flex items-center">
                            <!-- Name attribute is "accommodation" -->
                            <input id="accommodation-no" name="accommodation" type="radio" value="No" checked
                                   class="h-4 w-4 text-gold-deep border-gray-300 focus:ring-gold-deep">
                            <label for="accommodation-no" class="ml-3 block text-lg text-text-mid">No, we're all set.</label>
                        </div>
                    </div>
                </fieldset>
                <!-- End of Accommodation fieldset -->


                <div>
                    <label for="message" class="block text-lg font-medium text-text-mid">Message (Optional)</label>
                    <textarea id="message" name="message" rows="4"
                              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gold-deep focus:ring focus:ring-gold-deep focus:ring-opacity-50 p-3"></textarea>
                </div>

                <div class="text-center mt-4">
                    <button type="submit" id="rsvp-submit-button"
                            class="inline-block py-4 px-12 bg-gold-accent text-white font-bold text-xl rounded-lg shadow-lg hover:bg-gold-deep transition-all duration-300 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed">
                        Submit RSVP
                    </button>
                </div>
            </form>
            <!-- Container for success/error messages -->
            <div id="rsvp-response" class="text-center text-lg font-semibold mt-8">
                <p id="rsvp-success" class="text-text-dark hidden">Thank you! Your RSVP has been recorded.</p>
                <p id="rsvp-error" class="text-red-600 hidden"></p>
            </div>
        </section>

        <!-- Divider -->
        <hr class="border-t border-gold-accent/50 w-1/3 mx-auto my-16">

        <!-- "With Love" Section Added -->
        <section class="max-w-4xl mx-auto mb-8 text-center">
            <h2 class="font-serif text-4xl text-text-dark text-center mb-10">With Love & Prayers From</h2>
            <div class="text-lg text-text-mid">
                <div>
                    <h3 class="font-serif text-2xl text-text-dark mb-3">Family</h3>
                    <p>Jameela (W/o late Sainudheen)</p>
                    <p>Rafeeq</p>
                    <p>Thoufeeq</p>
                    <p>Asheeq</p>
                </div>
            </div>
        </section>
        
    </main> <!-- End main content card -->


    <!-- Footer --><footer class="text-center py-8 text-text-mid">
        <p class="font-serif text-xl text-gold-deep">S + L</p>
        <p class="mt-2">Made with love</p>
    </footer>

    <!-- Script to handle RSVP form submission -->
    <script type="module">
        // --- Google Apps Script URL ---
        // This should be the URL you already have from the previous step.
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwVr1vraEfwpFGzU7B3b8peUDDCf0Bei-9Vc_s4cB15b6r2ouZtdRhDBzxdjhr2CnS9/exec';

        // --- Updated RSVP Form Handler ---
        const form = document.getElementById('rsvp-form');
        const submitButton = document.getElementById('rsvp-submit-button');
        const successMessage = document.getElementById('rsvp-success');
        const errorMessage = document.getElementById('rsvp-error');

        // --- Accommodation Toggle Logic ---
        const radioYes = document.getElementById('accommodation-yes');
        const radioNo = document.getElementById('accommodation-no');
        const accommodationDates = document.getElementById('accommodation-dates');
        const dateCheckboxes = document.querySelectorAll('input[name="night_before"], input[name="night_of"]');

        radioYes.addEventListener('change', () => {
            if (radioYes.checked) {
                accommodationDates.classList.remove('hidden');
            }
        });

        radioNo.addEventListener('change', () => {
            if (radioNo.checked) {
                accommodationDates.classList.add('hidden');
                // Uncheck the boxes if user switches back to "No"
                dateCheckboxes.forEach(box => box.checked = false);
            }
        });
        // --- End of Accommodation Toggle Logic ---


        form.addEventListener('submit', function(e) {
            e.preventDefault();

            // Prevent multiple submissions
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            successMessage.classList.add('hidden');
            errorMessage.classList.add('hidden');

            if (SCRIPT_URL === 'PASTE_YOUR_WEB_APP_URL_HERE' || SCRIPT_URL === '') {
                errorMessage.textContent = 'Form is not yet connected. Please follow setup instructions.';
                errorMessage.classList.remove('hidden');
                submitButton.disabled = false;
                submitButton.textContent = 'Submit RSVP';
                return;
            }

            // We can now use FormData directly because the names
            // in the form match the parameters in the new script.
            const formData = new FormData(form);

            fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.result === 'success') {
                    // Success! Hide the form and show the success message.
                    form.classList.add('hidden');
                    successMessage.classList.remove('hidden');
                } else {
                    // Handle errors returned from the script
                    throw new Error(data.message || 'Unknown error');
                }
            })
            .catch(error => {
                // Handle network or other errors
                console.error('Error submitting RSVP:', error);
                errorMessage.textContent = 'An error occurred while submitting. Please try again.';
                errorMessage.classList.remove('hidden');
                submitButton.disabled = false;
                submitButton.textContent = 'Submit RSVP';
            });
        });
    </script>

</body>
</html>